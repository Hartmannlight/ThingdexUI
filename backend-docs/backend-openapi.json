{"openapi":"3.1.0","info":{"title":"Thingdex API","description":"Household inventory API. See `/docs` for interactive examples and `/openapi.json` for machine-readable specs.","version":"0.1.0"},"paths":{"/health":{"get":{"summary":"Health Check","description":"Simple health check for load balancers and local smoke tests.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/locations":{"post":{"tags":["locations"],"summary":"Create Location","description":"Create a new location node in the location tree.","operationId":"create_location_v1_locations_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/locations/root":{"get":{"tags":["locations"],"summary":"Get Root Location","description":"Fetch or create the unique root location.","operationId":"get_root_location_v1_locations_root_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationOut"}}}}}}},"/v1/locations/tree":{"get":{"tags":["locations"],"summary":"Get Location Tree","description":"Return a nested tree of locations starting at root_location_id.","operationId":"get_location_tree_v1_locations_tree_get","parameters":[{"name":"root_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Root Location Id"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationTreeNode"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/locations/{location_id}":{"get":{"tags":["locations"],"summary":"Get Location","description":"Fetch a single location by ID.","operationId":"get_location_v1_locations__location_id__get","parameters":[{"name":"location_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Location Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["locations"],"summary":"Update Location","description":"Update location metadata or move it by changing parent_id.","operationId":"update_location_v1_locations__location_id__patch","parameters":[{"name":"location_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Location Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["locations"],"summary":"Delete Location","description":"Delete a location if it has no items in its subtree.","operationId":"delete_location_v1_locations__location_id__delete","parameters":[{"name":"location_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Location Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/locations/{location_id}/children":{"get":{"tags":["locations"],"summary":"List Children","description":"List direct child locations for a given parent.","operationId":"list_children_v1_locations__location_id__children_get","parameters":[{"name":"location_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Location Id"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":1000,"minimum":1},{"type":"null"}],"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LocationOut"},"title":"Response List Children V1 Locations  Location Id  Children Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/locations/{location_id}/path":{"get":{"tags":["locations"],"summary":"Get Path","description":"Return the full location path from root to this node.","operationId":"get_path_v1_locations__location_id__path_get","parameters":[{"name":"location_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Location Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LocationPathItem"},"title":"Response Get Path V1 Locations  Location Id  Path Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/locations/{location_id}/items":{"get":{"tags":["locations"],"summary":"List Items In Location","description":"List items stored in a location, optionally including descendants.","operationId":"list_items_in_location_v1_locations__location_id__items_get","parameters":[{"name":"location_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Location Id"}},{"name":"include_descendants","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Descendants"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":1000,"minimum":1},{"type":"null"}],"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemOut"},"title":"Response List Items In Location V1 Locations  Location Id  Items Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/item-types":{"post":{"tags":["item-types"],"summary":"Create Item Type","description":"Create a new item type definition with schema and UI hints.","operationId":"create_item_type_v1_item_types_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemTypeCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemTypeOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["item-types"],"summary":"List Item Types","description":"List all item types.","operationId":"list_item_types_v1_item_types_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":1000,"minimum":1},{"type":"null"}],"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemTypeOut"},"title":"Response List Item Types V1 Item Types Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/item-types/{item_type_id}":{"get":{"tags":["item-types"],"summary":"Get Item Type","description":"Fetch a single item type by ID.","operationId":"get_item_type_v1_item_types__item_type_id__get","parameters":[{"name":"item_type_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Type Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemTypeOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["item-types"],"summary":"Update Item Type","description":"Update name/schema/ui for an existing item type.","operationId":"update_item_type_v1_item_types__item_type_id__patch","parameters":[{"name":"item_type_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Type Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemTypeUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemTypeOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["item-types"],"summary":"Delete Item Type","description":"Delete an item type if no items reference it.","operationId":"delete_item_type_v1_item_types__item_type_id__delete","parameters":[{"name":"item_type_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Type Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items":{"post":{"tags":["items"],"summary":"Create Item","description":"Create an item and validate its props against the item type schema.","operationId":"create_item_v1_items_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["items"],"summary":"List Items","description":"List items with optional type/status/in-use filters.","operationId":"list_items_v1_items_get","parameters":[{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"in_use","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"In Use"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":1000,"minimum":1},{"type":"null"}],"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemOut"},"title":"Response List Items V1 Items Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items/bulk":{"post":{"tags":["items"],"summary":"Bulk Create Items","description":"Create multiple items in a single request.","operationId":"bulk_create_items_v1_items_bulk_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemBulkCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ItemOut"},"type":"array","title":"Response Bulk Create Items V1 Items Bulk Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["items"],"summary":"Bulk Update Items","description":"Update multiple items (status/description/props) in a single request.","operationId":"bulk_update_items_v1_items_bulk_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemBulkUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ItemOut"},"type":"array","title":"Response Bulk Update Items V1 Items Bulk Patch"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items/bulk/move":{"patch":{"tags":["items"],"summary":"Bulk Move Items","description":"Move multiple items to a new location ID.","operationId":"bulk_move_items_v1_items_bulk_move_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemBulkMove"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ItemOut"},"type":"array","title":"Response Bulk Move Items V1 Items Bulk Move Patch"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items/missing-location":{"get":{"tags":["items"],"summary":"List Items Missing Location","description":"List items without an effective location.","operationId":"list_items_missing_location_v1_items_missing_location_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemDetailOut"},"title":"Response List Items Missing Location V1 Items Missing Location Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items/{item_id}":{"get":{"tags":["items"],"summary":"Get Item","description":"Fetch item details with type info and location path.","operationId":"get_item_v1_items__item_id__get","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemDetailOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["items"],"summary":"Update Item","description":"Update item metadata (status/description).","operationId":"update_item_v1_items__item_id__patch","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["items"],"summary":"Delete Item","description":"Delete an item if it has no active relations.","operationId":"delete_item_v1_items__item_id__delete","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items/{item_id}/move":{"patch":{"tags":["items"],"summary":"Move Item","description":"Move an item to a new location ID.","operationId":"move_item_v1_items__item_id__move_patch","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemMove"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items/{item_id}/props":{"patch":{"tags":["items"],"summary":"Merge Props","description":"Merge props into the item and append history for tracked fields.","operationId":"merge_props_v1_items__item_id__props_patch","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemPropsUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["items"],"summary":"Replace Props","description":"Replace the full props object, applying defaults and history.","operationId":"replace_props_v1_items__item_id__props_put","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemPropsReplace"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items/{item_id}/relations":{"post":{"tags":["items"],"summary":"Create Relation","description":"Attach a child item to a parent item.","operationId":"create_relation_v1_items__item_id__relations_post","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemRelationCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemRelationOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items/{item_id}/relations/children":{"get":{"tags":["items"],"summary":"List Child Relations","description":"List relations where this item is the parent.","operationId":"list_child_relations_v1_items__item_id__relations_children_get","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Active Only"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemRelationOut"},"title":"Response List Child Relations V1 Items  Item Id  Relations Children Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items/{item_id}/relations/parents":{"get":{"tags":["items"],"summary":"List Parent Relations","description":"List relations where this item is the child.","operationId":"list_parent_relations_v1_items__item_id__relations_parents_get","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Active Only"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemRelationOut"},"title":"Response List Parent Relations V1 Items  Item Id  Relations Parents Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items/{item_id}/history":{"get":{"tags":["items"],"summary":"Get History","description":"Fetch property history for an item.","operationId":"get_history_v1_items__item_id__history_get","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}},{"name":"prop_key","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prop Key"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":200,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemPropHistoryOut"},"title":"Response Get History V1 Items  Item Id  History Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items/{item_id}/snapshots":{"post":{"tags":["items"],"summary":"Create Snapshot","description":"Create a snapshot entry (large payloads, tree output, etc.).","operationId":"create_snapshot_v1_items__item_id__snapshots_post","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemSnapshotCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemSnapshotOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["items"],"summary":"List Snapshots","description":"List snapshots for an item, filtered by kind if provided.","operationId":"list_snapshots_v1_items__item_id__snapshots_get","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}},{"name":"kind","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Kind"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemSnapshotOut"},"title":"Response List Snapshots V1 Items  Item Id  Snapshots Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items/{item_id}/snapshots/{snapshot_id}":{"delete":{"tags":["items"],"summary":"Delete Snapshot","description":"Delete a single snapshot for an item.","operationId":"delete_snapshot_v1_items__item_id__snapshots__snapshot_id__delete","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}},{"name":"snapshot_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Snapshot Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/items/search":{"post":{"tags":["items"],"summary":"Search Items","description":"Perform a multi-criteria search across type, location, props, availability.","operationId":"search_items_v1_items_search_post","parameters":[{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemOut"},"title":"Response Search Items V1 Items Search Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/relations/{relation_id}":{"patch":{"tags":["relations"],"summary":"Update Relation","description":"Update relation fields (active/quantity/slot/notes).","operationId":"update_relation_v1_relations__relation_id__patch","parameters":[{"name":"relation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Relation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemRelationUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemRelationOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["relations"],"summary":"Delete Relation","description":"Delete a relation (requires detach first for in-use relations).","operationId":"delete_relation_v1_relations__relation_id__delete","parameters":[{"name":"relation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Relation Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/relations/{relation_id}/detach":{"post":{"tags":["relations"],"summary":"Detach Relation","description":"Detach a child from a parent and place it in a location.","operationId":"detach_relation_v1_relations__relation_id__detach_post","parameters":[{"name":"relation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Relation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemRelationDetach"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemRelationOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/labels/print":{"post":{"tags":["labels"],"summary":"Print Label For Entity","description":"Print a label for an item or location using stored template configuration.","operationId":"print_label_for_entity_v1_labels_print_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LabelReprintRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ItemBulkCreate":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ItemBulkCreateItem"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"ItemBulkCreate"},"ItemBulkCreateItem":{"properties":{"location_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Location Id"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"props":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Props"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type","description":"Type name"},"type_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Type Id","description":"Type ID"}},"type":"object","title":"ItemBulkCreateItem"},"ItemBulkMove":{"properties":{"item_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Item Ids"},"location_id":{"type":"string","format":"uuid","title":"Location Id"}},"type":"object","required":["item_ids","location_id"],"title":"ItemBulkMove"},"ItemBulkUpdate":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ItemBulkUpdateItem"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"ItemBulkUpdate"},"ItemBulkUpdateItem":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"props":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Props"},"source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"}},"type":"object","required":["id"],"title":"ItemBulkUpdateItem"},"ItemCreate":{"properties":{"location_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Location Id"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"props":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Props"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type","description":"Type name"},"type_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Type Id","description":"Type ID"},"label_print":{"anyOf":[{"$ref":"#/components/schemas/LabelPrintRequest"},{"type":"null"}]}},"type":"object","title":"ItemCreate"},"ItemDetailLocation":{"properties":{"physical_location_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Physical Location Id"},"effective_location_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Effective Location Id"},"effective_location_path":{"anyOf":[{"items":{"$ref":"#/components/schemas/LocationPathItem"},"type":"array"},{"type":"null"}],"title":"Effective Location Path"}},"type":"object","title":"ItemDetailLocation"},"ItemDetailOut":{"properties":{"location_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Location Id"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"props":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Props"},"id":{"type":"string","format":"uuid","title":"Id"},"type_id":{"type":"string","format":"uuid","title":"Type Id"},"type":{"$ref":"#/components/schemas/ItemDetailType"},"location":{"$ref":"#/components/schemas/ItemDetailLocation"}},"type":"object","required":["id","type_id","type","location"],"title":"ItemDetailOut"},"ItemDetailType":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"}},"type":"object","required":["id","name"],"title":"ItemDetailType"},"ItemMove":{"properties":{"location_id":{"type":"string","format":"uuid","title":"Location Id"}},"type":"object","required":["location_id"],"title":"ItemMove"},"ItemOut":{"properties":{"location_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Location Id"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"props":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Props"},"id":{"type":"string","format":"uuid","title":"Id"},"type_id":{"type":"string","format":"uuid","title":"Type Id"}},"type":"object","required":["id","type_id"],"title":"ItemOut"},"ItemPropHistoryOut":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"item_id":{"type":"string","format":"uuid","title":"Item Id"},"prop_key":{"type":"string","title":"Prop Key"},"captured_at":{"type":"string","format":"date-time","title":"Captured At"},"value":{"title":"Value"},"source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"}},"type":"object","required":["id","item_id","prop_key","captured_at","value"],"title":"ItemPropHistoryOut"},"ItemPropsReplace":{"properties":{"props":{"additionalProperties":true,"type":"object","title":"Props"},"source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"}},"type":"object","required":["props"],"title":"ItemPropsReplace"},"ItemPropsUpdate":{"properties":{"props":{"additionalProperties":true,"type":"object","title":"Props"},"source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"}},"type":"object","required":["props"],"title":"ItemPropsUpdate"},"ItemRelationCreate":{"properties":{"child_item_id":{"type":"string","format":"uuid","title":"Child Item Id"},"relation_type":{"type":"string","enum":["installed_in","uses","paired_with"],"title":"Relation Type"},"quantity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quantity"},"slot":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slot"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["child_item_id","relation_type"],"title":"ItemRelationCreate"},"ItemRelationDetach":{"properties":{"location_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Location Id"}},"type":"object","title":"ItemRelationDetach"},"ItemRelationOut":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"parent_item_id":{"type":"string","format":"uuid","title":"Parent Item Id"},"child_item_id":{"type":"string","format":"uuid","title":"Child Item Id"},"relation_type":{"type":"string","title":"Relation Type"},"active":{"type":"boolean","title":"Active"},"quantity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quantity"},"slot":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slot"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","parent_item_id","child_item_id","relation_type","active","created_at"],"title":"ItemRelationOut"},"ItemRelationUpdate":{"properties":{"active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Active"},"quantity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quantity"},"slot":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slot"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"ItemRelationUpdate"},"ItemSnapshotCreate":{"properties":{"kind":{"type":"string","title":"Kind"},"captured_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Captured At"},"data_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data Text"},"data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Data"},"meta":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Meta"}},"type":"object","required":["kind"],"title":"ItemSnapshotCreate"},"ItemSnapshotOut":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"item_id":{"type":"string","format":"uuid","title":"Item Id"},"kind":{"type":"string","title":"Kind"},"captured_at":{"type":"string","format":"date-time","title":"Captured At"},"data_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data Text"},"data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Data"},"meta":{"additionalProperties":true,"type":"object","title":"Meta"}},"type":"object","required":["id","item_id","kind","captured_at","meta"],"title":"ItemSnapshotOut"},"ItemTypeCreate":{"properties":{"name":{"type":"string","title":"Name"},"schema":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Schema"},"ui":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Ui"},"label_template_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Label Template Id"}},"type":"object","required":["name"],"title":"ItemTypeCreate"},"ItemTypeOut":{"properties":{"name":{"type":"string","title":"Name"},"schema":{"additionalProperties":true,"type":"object","title":"Schema"},"ui":{"additionalProperties":true,"type":"object","title":"Ui"},"label_template_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Label Template Id"},"id":{"type":"string","format":"uuid","title":"Id"}},"type":"object","required":["name","schema","ui","id"],"title":"ItemTypeOut"},"ItemTypeUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"schema":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Schema"},"ui":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Ui"},"label_template_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Label Template Id"}},"type":"object","title":"ItemTypeUpdate"},"ItemUpdate":{"properties":{"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","title":"ItemUpdate"},"LabelPrintRequest":{"properties":{"printer_id":{"type":"string","title":"Printer Id"},"return_preview":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Return Preview"}},"type":"object","required":["printer_id"],"title":"LabelPrintRequest"},"LabelReprintRequest":{"properties":{"printer_id":{"type":"string","title":"Printer Id"},"template_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Template Id"},"item_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Item Id"},"location_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Location Id"},"return_preview":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Return Preview"}},"type":"object","required":["printer_id"],"title":"LabelReprintRequest"},"LocationCreate":{"properties":{"name":{"type":"string","title":"Name"},"parent_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Id"},"kind":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Kind"},"meta":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Meta"},"label_print":{"anyOf":[{"$ref":"#/components/schemas/LabelPrintRequest"},{"type":"null"}]}},"type":"object","required":["name"],"title":"LocationCreate"},"LocationOut":{"properties":{"name":{"type":"string","title":"Name"},"parent_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Id"},"kind":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Kind"},"meta":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Meta"},"id":{"type":"string","format":"uuid","title":"Id"}},"type":"object","required":["name","id"],"title":"LocationOut"},"LocationPathItem":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"}},"type":"object","required":["id","name"],"title":"LocationPathItem"},"LocationTreeNode":{"properties":{"name":{"type":"string","title":"Name"},"parent_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Id"},"kind":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Kind"},"meta":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Meta"},"id":{"type":"string","format":"uuid","title":"Id"},"children":{"items":{"$ref":"#/components/schemas/LocationTreeNode"},"type":"array","title":"Children"}},"type":"object","required":["name","id"],"title":"LocationTreeNode"},"LocationUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"parent_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Id"},"kind":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Kind"},"meta":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Meta"}},"type":"object","title":"LocationUpdate"},"PropsFilter":{"properties":{"path":{"type":"string","title":"Path"},"op":{"type":"string","enum":["==","!=",">",">=","<","<=","contains","in"],"title":"Op"},"value":{"title":"Value"}},"type":"object","required":["path","op","value"],"title":"PropsFilter"},"SearchLocation":{"properties":{"root_location_id":{"type":"string","format":"uuid","title":"Root Location Id"},"include_descendants":{"type":"boolean","title":"Include Descendants","default":true}},"type":"object","required":["root_location_id"],"title":"SearchLocation"},"SearchRequest":{"properties":{"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"},"location":{"anyOf":[{"$ref":"#/components/schemas/SearchLocation"},{"type":"null"}]},"props_filters":{"anyOf":[{"items":{"$ref":"#/components/schemas/PropsFilter"},"type":"array"},{"type":"null"}],"title":"Props Filters"},"in_use":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"In Use"}},"type":"object","title":"SearchRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
